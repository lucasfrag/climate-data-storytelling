<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Climate Date Storytelling</title>
    <link rel="stylesheet" href="./assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <link rel="stylesheet" href="./assets/css/leaflet.css" />
    <link rel="stylesheet" href="./assets/css/styles.css">

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.heat@0.2.0/dist/leaflet-heat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>

<body>
    <!-- Hero Section -->
    <section class="hero-section d-flex align-items-center justify-content-center text-center vh-100"
        style="min-height: 100vh; width: 100%; padding: 0; background: linear-gradient(120deg, #1976d2 0%, #42a5f5 100%); color: #fff;">
        <div class="container h-100 d-flex flex-column justify-content-center">
            <div class="row justify-content-center align-items-center flex-grow-1">
                <div class="col-lg-10 col-md-12">
                    <h1 class="display-3 fw-bold mb-4" style="text-shadow: 2px 2px 8px rgba(0,0,0,0.15);">
                        <i class="fas fa-globe-americas me-2"></i>
                        Climate Data Storytelling
                    </h1>
                    <p class="lead mb-5" style="font-size: 1.5rem;">
                        Descubra como o clima est√° mudando em Porto Alegre e no regi√£o sul do Brasil.<br>
                        Visualize dados meteorol√≥gicos, tend√™ncias e impactos de forma interativa e envolvente.
                    </p>


                    <a href="./artigo.html" class="btn btn-lg btn-outline-light px-5 py-3 mb-2">
                        <i class="fas fa-book-open me-2"></i> Ler o artigo completo
                    </a>
                    <a href="https://github.com/lucasfrag/climate-data-storytelling" target="_blank"
                        class="btn btn-lg btn-outline-light px-5 py-3 mb-2">
                        <i class="fab fa-github me-2"></i> Ver no GitHub
                    </a>


                    <div class="d-flex flex-column align-items-center mt-5">
                        <p class="mb-2" style="font-size: 1.15rem;">
                            <strong>Clique no bot√£o abaixo para come√ßar a explorar os dados.</strong>
                        </p>
                        <br><br>
                        <button id="explorarBtn"
                            class="btn btn-light rounded-circle shadow d-flex align-items-center justify-content-center animate-bounce"
                            style="width: 64px; height: 64px; font-size: 2rem; color: #1976d2;">
                            <i class="fas fa-arrow-down"></i>
                        </button>
                    </div>
                    <script>
                        document.getElementById('explorarBtn').addEventListener('click', function (e) {
                            e.preventDefault();
                            const target = document.querySelector('#estacoes-meteorologicas');
                            if (target) {
                                target.scrollIntoView({ behavior: 'smooth' });
                            }
                        });                     
                    </script>
                </div>
            </div>
        </div>
    </section>

    <div class="tooltip" id="tooltip"></div>


    <!--------------------------------------------------------------------------------------------------------------------------->

    <!-- Se√ß√£o Esta√ß√µes Meteorol√≥gicas -->
    <div class="container-fluid reveal-section" id="estacoes-meteorologicas">
        <div class="row">

            <!-- Storytelling -->
            <div class="col-sm-12 col-md-12 col-lg-6 hide-scrollbar"
                style="background-color: #f8f9fa; overflow-y: scroll; height: 900px;">
                <div class="col-12 d-flex flex-column">
                    <h1 class="bg-light mb-3 text-h1 reveal-item sticky-top text-primary" id="estacoes-title"
                        style="padding: 50px 0px 30px 0px; background-color: #f8f9fa;" tabindex="0">
                        <i class="fas fa-cloud-sun-rain me-2"></i> Esta√ß√µes Meteorol√≥gicas
                    </h1>

                    <div class="col-12 justify-content-center align-items-center">
                        <p class="reveal-item">O <a href="https://portal.inmet.gov.br/" target="_blank">Instituto
                                Nacional de Meteorologia (INMET)</a> opera uma rede de esta√ß√µes meteorol√≥gicas em todo o
                            Brasil, fornecendo dados valiosos para pesquisadores, meteorologistas e o p√∫blico em geral.
                            Essas informa√ß√µes s√£o cruciais para a previs√£o do tempo, planejamento agr√≠cola, gest√£o de
                            recursos h√≠dricos e resposta a desastres naturais.</p>
                        <p class="reveal-item">A primeira esta√ß√£o meteorol√≥gica da regi√£o sul foi inaugurada em 2000, em
                            <strong>Porto
                                Alegre</strong>, e desde ent√£o, a rede se expandiu para incluir in√∫meras esta√ß√µes em
                            todo o pa√≠s. E que tal vermos isso na pr√°tica?</p>

                        <section aria-labelledby="estacoes-title" class="reveal-item">
                            <p>

                                <strong>Selecione um estado ou arraste o ano para ver as esta√ß√µes surgindo no
                                    mapa!</strong>
                            </p>
                            <form id="controls" class="d-flex flex-wrap align-items-center gap-3 mb-3"
                                aria-label="Filtros de esta√ß√µes" style="padding: 8px 0;">
                                <label for="ufSelect" class="form-label mb-0 me-2"
                                    style="margin-right: 8px;">UF:</label>
                                <select id="ufSelect" class="form-select form-control me-3"
                                    style="width: 150px; margin-right: 12px;" aria-label="Filtrar por estado">
                                    <option value="TODOS">Todos</option>
                                </select>
                                <button id="playBtn" type="button" aria-label="Mostrar evolu√ß√£o das esta√ß√µes"
                                    title="Mostrar evolu√ß√£o das esta√ß√µes" class="btn btn-primary" aria-pressed="false"
                                    style="margin-left: 8px;">‚ñ∂Ô∏è Ver evolu√ß√£o das esta√ß√µes</button>
                                <button id="resetBtn" type="button" aria-label="Centralizar mapa"
                                    title="Centralizar mapa" class="btn btn-outline-secondary"
                                    style="margin-left: 8px;">üîÑ Centralizar mapa</button>
                            </form>

                            <div id="yearSliderContainer" class="my-3">
                                <label for="yearSlider" id="yearSliderLabel" class="form-label"><strong>Ano:</strong>
                                    <span id="yearLabel">2020</span></label>
                                <input style="width: 100%;" type="range" id="yearSlider" min="2000" max="2025"
                                    value="2000" aria-labelledby="yearSliderLabel" />
                            </div>

                            <div class="mb-4 p-4 rounded shadow-sm bg-white border" id="charts"
                                aria-label="Gr√°fico de esta√ß√µes por ano">
                                <h3>Gr√°fico de Esta√ß√µes por Ano</h3>
                                <p class="mb-2 text-secondary">O gr√°fico abaixo mostra a evolu√ß√£o do n√∫mero de esta√ß√µes
                                    meteorol√≥gicas ao longo dos anos. Para visualizar as informa√ß√µes de um ano
                                    espec√≠fico, basta passar o mouse sobre as barras.</p>
                                <br>
                                <canvas id="graficoEstacoes" role="img"
                                    aria-label="Gr√°fico de barras mostrando o n√∫mero de esta√ß√µes fundadas por ano"></canvas>

                            </div>

                            <p class="reveal-item">Hoje o INMET conta com mais de 700 esta√ß√µes meteorol√≥gicas que
                                monitoram <strong>temperatura</strong>,
                                <strong>umidade</strong>, <strong>press√£o</strong>, <strong>vento</strong>,
                                <strong>chuva</strong> e outros dados clim√°ticos essenciais para entender o clima local
                                e acompanhar suas mudan√ßas ao longo do tempo.
                            </p>
                            <p class="reveal-item">Essas informa√ß√µes s√£o atualizadas em tempo real e est√£o dispon√≠veis
                                no <a href="https://portal.inmet.gov.br/dadoshistoricos" target="_blank">portal do
                                    INMET</a>, acess√≠vel
                                a qualquer pessoa.</p>

                            <p class="reveal-item">
                                At√© aqui, voc√™ acompanhou dados referentes √† <strong>Regi√£o Sul do Brasil</strong>. A
                                partir de agora, este <i>storytelling</i> nos levar√° a descobrir o que essas informa√ß√µes
                                nos dizem sobre as transforma√ß√µes clim√°ticas que v√™m ocorrendo nessa parte do pa√≠s.
                            </p>
                            <p class="reveal-item">
                                Entre todas as esta√ß√µes da regi√£o sul, a de <strong>Porto Alegre</strong> se destaca por
                                ser a mais
                                antiga da rede, desempenhando um papel essencial na gera√ß√£o de s√©ries hist√≥ricas e na
                                identifica√ß√£o de tend√™ncias ao longo do tempo.
                                Por isso, ela ser√° o nosso ponto central de an√°lise nas pr√≥ximas se√ß√µes.
                            </p>
                        </section>


                        <div class="end-content w-100 text-center mt-4">
                            <p class="mb-2 text-muted">Clique no bot√£o abaixo para seguir para a pr√≥xima se√ß√£o.</p>
                            <button id="explorarPortoAlegre" class="btn btn-primary rounded-circle shadow"
                                style="width: 56px; height: 56px;" aria-label="Ir para a pr√≥xima se√ß√£o">
                                <span style="font-size: 1.7em; vertical-align: middle;"
                                    aria-hidden="true">&#8595;</span>
                            </button>

                            <script>
                                document.getElementById('explorarPortoAlegre').addEventListener('click', function (e) {
                                    e.preventDefault();
                                    const target = document.querySelector('#porto-alegre');
                                    if (target) {
                                        target.scrollIntoView({ behavior: 'smooth' });
                                    }
                                });                                   
                            </script>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Mapa -->
            <div class="col-sm-12 col-md-12 col-lg-6 justify-content-center align-items-center"
                style="background-color: #f8f9fa;">
                <div id="map" style="height: 900px;"></div>
            </div>
        </div>
    </div>



    <!------------------------------------------------------------------------------------------------------------------------------->


    <!-- Se√ß√£o Porto Alegre -->
    <div class="container-fluid reveal-section" id="porto-alegre">
        <div class="row">

            <!-- Galeria de imagens -->
            <div class="col-sm-12 col-md-12 col-lg-6 justify-content-center align-items-center"
                style="background-color: #f8f9fa;">

                <div class="col-12 hv-100 d-flex flex-column justify-content-center align-items-center">
                    <h2 style="padding: 30px 0px 50px 0px; background-color: #f8f9fa;"></h2>
                    <div class="row">
                        <div class="col-lg-4 col-md-12 mb-4 mb-lg-0">
                            <img src="https://mdbcdn.b-cdn.net/img/Photos/Horizontal/Nature/4-col/img%20(73).webp"
                                class="w-100 shadow-1-strong rounded mb-4" alt="..." />

                            <img src="https://mdbcdn.b-cdn.net/img/Photos/Vertical/mountain1.webp"
                                class="w-100 shadow-1-strong rounded mb-4" alt="..." />
                        </div>

                        <div class="col-lg-4 mb-4 mb-lg-0">
                            <img src="https://mdbcdn.b-cdn.net/img/Photos/Vertical/mountain2.webp"
                                class="w-100 shadow-1-strong rounded mb-4" alt="..." />

                            <img src="https://mdbcdn.b-cdn.net/img/Photos/Horizontal/Nature/4-col/img%20(73).webp"
                                class="w-100 shadow-1-strong rounded mb-4" alt="..." />
                        </div>

                        <div class="col-lg-4 mb-4 mb-lg-0">
                            <img src="https://mdbcdn.b-cdn.net/img/Photos/Horizontal/Nature/4-col/img%20(18).webp"
                                class="w-100 shadow-1-strong rounded mb-4" alt="..." />

                            <img src="https://mdbcdn.b-cdn.net/img/Photos/Vertical/mountain3.webp"
                                class="w-100 shadow-1-strong rounded mb-4" alt="..." />
                        </div>
                    </div>
                </div>


            </div>


            <!-- Storytelling -->
            <div class="col-sm-12 col-md-12 col-lg-6 hide-scrollbar"
                style="background-color: #f8f9fa; overflow-y: scroll; height: 900px;">
                <div class="col-12 d-flex flex-column">
                    <h1 class="bg-light h1 mb-3 sticky-top" id="estacoes-title"
                        style="padding: 50px 0px 30px 0px; background-color: #f8f9fa;" tabindex="0">
                        <i class="fas fa-city me-2"></i> Porto Alegre: A Capital Ga√∫cha
                    </h1>

                    <div class="col-12 justify-content-center align-items-center">



                        <div class="d-flex align-items-center mb-2">
                            <i class="fas fa-map-marker-alt fa-lg text-danger me-2"></i>&nbsp;<span
                                class="fw-bold">Porto Alegre, RS</span>
                        </div>
                        <p class="mb-2 text-secondary">
                            Porto Alegre, capital do Rio Grande do Sul, √© marcada por sua diversidade cultural,
                            hist√≥ria rica e paisagens naturais. √Äs margens do Lago Gua√≠ba, a cidade une √°reas verdes
                            exuberantes, como o <span class="fw-semibold">Parque Farroupilha</span> e o <span
                                class="fw-semibold">Morro do Osso</span>, a uma vida urbana vibrante e acolhedora.
                        </p>


                        <div class="d-flex align-items-center mb-2">
                            <i class="fas fa-users fa-lg text-success me-2"></i>&nbsp;<span class="fw-semibold">Centro
                                do Sul do Brasil</span>
                        </div>
                        <p class="mb-2 text-secondary">
                            Com cerca de <span class="fw-semibold">1,5 milh√£o de habitantes</span>, Porto Alegre √©
                            refer√™ncia econ√¥mica, pol√≠tica e educacional. Abriga universidades renomadas, centros de
                            pesquisa e uma agenda cultural intensa, com festivais, eventos e manifesta√ß√µes
                            art√≠sticas durante todo o ano.
                        </p>

                        <div class="mb-4">
                            <div class="d-flex align-items-center mb-2">
                                <i class="fas fa-temperature-high fa-lg text-warning me-2"></i>&nbsp;<span
                                    class="fw-semibold">Desafios Clim√°ticos Recentes</span>
                            </div>
                            <p class="mb-2 text-secondary">
                                Nos √∫ltimos anos, Porto Alegre tem sentido os efeitos das <span class="">mudan√ßas
                                    clim√°ticas</span>: aumento da temperatura m√©dia,
                                chuvas mais intensas e eventos extremos desafiam a infraestrutura e a rotina da
                                cidade.
                            </p>
                        </div>
                        <div class="mb-4">
                            <div class="d-flex align-items-center mb-2">
                                <i class="fas fa-water fa-lg text-info me-2"></i>&nbsp;<span
                                    class="fw-semibold text-dark">Enchentes Hist√≥ricas</span>
                            </div>
                            <p class="mb-2 text-secondary">
                                Em <span class="">2024</span>, Porto Alegre enfrentou as maiores
                                enchentes de sua hist√≥ria, impactando milhares de pessoas e evidenciando a urg√™ncia
                                de compreender e agir frente √†s mudan√ßas do clima local.
                            </p>
                        </div>
                        <div class="mb-4">
                            <div class="d-flex align-items-center mb-2">
                                <i class="fas fa-chart-line fa-lg text-primary me-2"></i>&nbsp;<span
                                    class="fw-semibold text-dark">O que os dados revelam?</span>
                            </div>
                            <p class="mb-2 text-secondary">
                                A seguir, vamos explorar como os <span class="fw-semibold">dados
                                    meteorol√≥gicos</span> ao longo dos anos revelam a evolu√ß√£o dessas mudan√ßas ‚Äî e o
                                que podemos aprender para construir um futuro mais resiliente.
                            </p>
                        </div>
                        <div class="end-content w-100 text-center mt-4">
                            <p class="mb-2 text-muted">Clique no bot√£o abaixo para seguir para a pr√≥xima se√ß√£o.</p>
                            <button class="btn btn-primary rounded-circle shadow" style="width: 56px; height: 56px;"
                                aria-label="Ir para a pr√≥xima se√ß√£o">
                                <span style="font-size: 1.7em; vertical-align: middle;"
                                    aria-hidden="true">&#8595;</span>
                            </button>
                        </div>




                    </div>
                </div>
            </div>


        </div>
    </div>


    <!---------------------------------------------------------------------------------------------------->

    <!-- Se√ß√£o Aquecimento ao Longo dos Anos -->
    <div class="container-fluid reveal-section" id="aquecimento">
        <div class="row">


            <!-- Storytelling -->
            <div class="col-sm-12 col-md-12 col-lg-6 hide-scrollbar"
                style="background-color: #f8f9fa; overflow-y: scroll; height: 900px;">
                <div class="col-12 d-flex flex-column">
                    <h1 class="bg-light h1 mb-3 sticky-top text-danger" id="estacoes-title"
                        style="padding: 50px 0px 30px 0px; background-color: #f8f9fa;" tabindex="0">
                        <i class="fas fa-temperature-high me-2"></i> Aquecimento ao Longo dos Anos
                    </h1>

                    <div class="col-12 justify-content-center align-items-center">





                        
                        <div class="end-content w-100 text-center mt-4">
                            <p class="mb-2 text-muted">Clique no bot√£o abaixo para seguir para a pr√≥xima se√ß√£o.</p>
                            <button class="btn btn-primary rounded-circle shadow" style="width: 56px; height: 56px;"
                                aria-label="Ir para a pr√≥xima se√ß√£o">
                                <span style="font-size: 1.7em; vertical-align: middle;"
                                    aria-hidden="true">&#8595;</span>
                            </button>
                        </div>




                    </div>
                </div>
            </div>


        </div>
    </div>


























    <div class="container-fluid" id="temperatura-media-anual">
        <div class="row" style="min-height: 800px;">

            <!-- Mapa -->
            <div class="col-md-6 d-flex flex-column justify-content-center align-items-center"
                style="background-color: #f8f9fa;">
                <!-- Criar heat map -->
                <div id="heatmap" style="width: 100%; height: 500px;"></div>
                <script>
                    // Heatmap de temperatura m√©dia anual usando leaflet-heat
                    document.addEventListener("DOMContentLoaded", function () {
                        // Exemplo de dados de temperatura m√©dia anual por regi√£o (latitude, longitude, valor)
                        // Substitua pelos dados reais conforme necess√°rio
                        const tempData = [
                            // Porto Alegre (aprox)
                            { lat: -30.0346, lng: -51.2177, temp: 23.5 },
                            // Regi√£o Norte de Porto Alegre
                            { lat: -29.95, lng: -51.18, temp: 22.4 },
                            // Regi√£o Sul de Porto Alegre
                            { lat: -30.15, lng: -51.25, temp: 24.0 },
                            // Centro
                            { lat: -30.03, lng: -51.23, temp: 23.1 }
                        ];

                        // Normaliza os valores para o heatmap (valor entre 0 e 1)
                        const temps = tempData.map(d => d.temp);
                        const minTemp = Math.min(...temps);
                        const maxTemp = Math.max(...temps);
                        const heatPoints = tempData.map(d => [
                            d.lat,
                            d.lng,
                            (d.temp - minTemp) / (maxTemp - minTemp) // intensidade normalizada
                        ]);

                        // Cria o mapa Leaflet
                        const heatMap = L.map('heatmap').setView([-30.0346, -51.2177], 11);

                        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                            attribution: '&copy; OpenStreetMap contributors'
                        }).addTo(heatMap);

                        // Adiciona o heatmap layer
                        L.heatLayer(heatPoints, {
                            radius: 40,
                            blur: 25,
                            maxZoom: 15,
                            gradient: {
                                0.0: '#00f2fe',
                                0.5: '#ffdd59',
                                1.0: '#ff3838'
                            }
                        }).addTo(heatMap);

                        // Adiciona marcadores com tooltip de temperatura
                        tempData.forEach(d => {
                            L.circleMarker([d.lat, d.lng], {
                                radius: 8,
                                fillColor: "#1976d2",
                                color: "#fff",
                                weight: 2,
                                opacity: 1,
                                fillOpacity: 0.8
                            })
                                .bindTooltip(`Temperatura m√©dia: ${d.temp}¬∞C`)
                                .addTo(heatMap);
                        });
                    });
                </script>
            </div>

            <!-- Storytelling -->
            <div class="col-md-6 d-flex flex-column" style="background-color: #f8f9fa;">
                <div class="col-12 d-flex flex-column">
                    <h1 class="bg-light" style="padding: 50px 0px 20px 0px; background-color: #f8f9fa;">
                        üìà Temperatura M√©dia Anual</h1>

                    <div class="col-12 justify-content-center align-items-center">
                        <!--<h2 style="padding: 30px 0px 30px 0px; background-color: #f8f9fa;"></h2>-->
                        <p>...</p>
                        <p>...</p>

                        <div class="slide chart-container" id="slide-linha">
                            <svg id="grafico-linha"></svg>
                        </div>

                        <p>...</p>

                        <div class="end-content">
                            <button class="btn btn-primary rounded-circle" style="width: 50px; height: 50px;">
                                <span style="font-size: 1.5em; vertical-align: middle;">&#8595;</span>
                            </button>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>




    <div class="container-fluid" id="">
        <div class="row" style="min-height: 800px;">
            <div class="col-md-6 d-flex flex-column" style="background-color: #f8f9fa;">
                <div class="col-12 d-flex flex-column">
                    <h1 class="bg-light" style="padding: 50px 0px 20px 0px; background-color: #f8f9fa;">
                        üåßÔ∏è Precipita√ß√£o Acumulada por Ano</h1>

                    <div class="col-12 justify-content-center align-items-center">
                        <p>Entre 2000 e 2025, Porto Alegre experimentou varia√ß√µes significativas na precipita√ß√£o
                            acumulada
                            anual, refletindo as mudan√ßas clim√°ticas e padr√µes meteorol√≥gicos em evolu√ß√£o. A an√°lise dos
                            dados pluviom√©tricos revela um aumento gradual, com picos not√°veis em anos espec√≠ficos.</p>
                        <p>Em 2000, a precipita√ß√£o acumulada anual foi de 1.200 mm, enquanto em 2025, essa m√©dia subiu
                            para
                            1.400 mm. Este aumento de 200 mm em apenas 25 anos destaca a urg√™ncia de a√ß√µes clim√°ticas e
                            a
                            necessidade de adapta√ß√£o √†s novas realidades clim√°ticas.</p>
                        <div class="slide chart-container" id="slide-area">
                            <svg id="grafico-area"></svg>
                        </div>
                        <p>O gr√°fico acima ilustra a evolu√ß√£o da precipita√ß√£o acumulada anual em Porto Alegre,
                            destacando
                            os anos com precipita√ß√µes mais altas e mais baixas. A linha ascendente indica uma tend√™ncia
                            preocupante, refor√ßando a necessidade de monitoramento cont√≠nuo e a√ß√µes para mitigar os
                            impactos das mudan√ßas clim√°ticas.</p>

                        <div class="end-content">
                            <button class="btn btn-primary rounded-circle" style="width: 50px; height: 50px;">
                                <span style="font-size: 1.5em; vertical-align: middle;">&#8595;</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-6 d-flex flex-column justify-content-center align-items-center"
                style="background-color: #f8f9fa;">

            </div>
        </div>
    </div>

    <div class="container-fluid" id="">
        <div class="row" style="min-height: 800px;">
            <div class="col-md-6 d-flex flex-column justify-content-center align-items-center"
                style="background-color: #f8f9fa;">

            </div>
            <div class="col-md-6 d-flex flex-column" style="background-color: #f8f9fa;">
                <div class="col-12 d-flex flex-column">
                    <h1 class="bg-light" style="padding: 50px 0px 20px 0px; background-color: #f8f9fa;">
                        üíß Umidade Relativa M√©dia Anual</h1>

                    <div class="col-12 justify-content-center align-items-center">
                        <p>Entre 2000 e 2025, Porto Alegre experimentou uma varia√ß√£o na umidade relativa m√©dia anual,
                            refletindo as mudan√ßas clim√°ticas e padr√µes meteorol√≥gicos em evolu√ß√£o. A an√°lise dos dados
                            de umidade revela uma tend√™ncia de aumento, com picos not√°veis em anos espec√≠ficos.</p>
                        <p>Em 2000, a umidade relativa m√©dia anual foi de 70%, enquanto em 2025, essa m√©dia subiu para
                            80%. Este aumento de 10% em apenas 25 anos destaca a
                            urg√™ncia de a√ß√µes clim√°ticas e a necessidade de adapta√ß√£o √†s novas realidades clim√°ticas.
                        </p>
                        <div class="slide chart-container" id="slide-umidade">
                            <svg id="grafico-umidade"></svg>
                        </div>

                        <div class="end-content">
                            <button class="btn btn-primary rounded-circle" style="width: 50px; height: 50px;">
                                <span style="font-size: 1.5em; vertical-align: middle;">&#8595;</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>


    <div class="container-fluid" id="">
        <div class="row" style="min-height: 800px;">
            <div class="col-md-6 d-flex flex-column" style="background-color: #f8f9fa;">
                <div class="col-12 d-flex flex-column">
                    <h1 class="bg-light" style="padding: 50px 0px 20px 0px; background-color: #f8f9fa;">
                        üå¨Ô∏è Velocidade M√©dia do Vento</h1>

                    <div class="col-12 justify-content-center align-items-center">
                        <p>Entre 2000 e 2025, Porto Alegre experimentou uma varia√ß√£o na velocidade m√©dia do vento,
                            refletindo as mudan√ßas clim√°ticas e padr√µes meteorol√≥gicos em evolu√ß√£o. A an√°lise dos dados
                            de vento revela uma tend√™ncia de aumento, com picos not√°veis em anos espec√≠ficos.</p>
                        <p>Em 2000, a velocidade m√©dia do vento foi de 2.4 m/s, enquanto em 2025, essa m√©dia subiu para
                            3.3 m/s. Este aumento de 0.9 m/s em apenas 25 anos destaca a urg√™ncia de a√ß√µes clim√°ticas e
                            a
                            necessidade de adapta√ß√£o √†s novas realidades clim√°ticas.</p>

                        <div class="slide chart-container" id="slide-vento">
                            <svg id="grafico-vento"></svg>
                        </div>

                        <div class="end-content">
                            <button class="btn btn-primary rounded-circle" style="width: 50px; height: 50px;">
                                <span style="font-size: 1.5em; vertical-align: middle;">&#8595;</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-6 d-flex flex-column justify-content-center align-items-center"
                style="background-color: #f8f9fa;">

            </div>
        </div>
    </div>


    <div class="container-fluid" id="">
        <div class="row" style="min-height: 800px;">
            <div class="col-md-6 d-flex flex-column justify-content-center align-items-center"
                style="background-color: #f8f9fa;">

            </div>
            <div class="col-md-6 d-flex flex-column" style="background-color: #f8f9fa;">
                <div class="col-12 d-flex flex-column">
                    <h1 class="bg-light" style="padding: 50px 0px 20px 0px; background-color: #f8f9fa;">
                        üî• Eventos de Temperatura Extrema</h1>

                    <div class="col-12 justify-content-center align-items-center">
                        <div class="slide chart-container" id="slide-extremos">
                            <svg id="grafico-extremos"></svg>
                        </div>

                        <div class="end-content">
                            <button class="btn btn-primary rounded-circle" style="width: 50px; height: 50px;">
                                <span style="font-size: 1.5em; vertical-align: middle;">&#8595;</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div class="container-fluid" id="">
        <div class="row" style="min-height: 800px;">
            <div class="col-md-6 d-flex flex-column" style="background-color: #f8f9fa;">
                <div class="col-12 d-flex flex-column">
                    <h1 class="bg-light" style="padding: 50px 0px 20px 0px; background-color: #f8f9fa;">
                        ‚ùÑÔ∏è Dias de Calor/Frio Intensos</h1>

                    <div class="col-12 justify-content-center align-items-center">
                        <div class="slide chart-container" id="slide-intensos">
                            <svg id="grafico-intensos"></svg>
                        </div>

                        <div class="end-content">
                            <button class="btn btn-primary rounded-circle" style="width: 50px; height: 50px;">
                                <span style="font-size: 1.5em; vertical-align: middle;">&#8595;</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-6 d-flex flex-column justify-content-center align-items-center"
                style="background-color: #f8f9fa;">

            </div>
        </div>
    </div>





    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>








    <!-- Se√ß√£o Galeria de Imagens -->
    <div class="container-fluid" id="estacoes-meteorologicas">
        <div class="row">

            <!-- Storytelling -->
            <div class="col-md-6 d-flex flex-column vh-100" style="background-color: #f8f9fa;">
                <div class="col-12 d-flex flex-column">
                    <div class="col-12 d-flex flex-column justify-content-center align-items-center">
                        <h1 style="padding: 30px 0px 30px 0px; background-color: #f8f9fa;">...</h1>
                        <p>Conte√∫do da coluna 1.</p>
                        <button class="btn btn-primary">Clique aqui</button>
                    </div>
                </div>
            </div>

            <div class="col-md-6 d-flex flex-column vh-100" style="background-color: #f8f9fa;">
                <div class="col-12 d-flex flex-column hide-scrollbar" style="overflow-y: scroll;">

                    <div class="col-12 hv-100 d-flex flex-column justify-content-center align-items-center">
                        <h2 style="padding: 30px 0px 50px 0px; background-color: #f8f9fa;">2000</h2>
                        <div class="row">
                            <div class="col-lg-4 col-md-12 mb-4 mb-lg-0">
                                <img src="https://mdbcdn.b-cdn.net/img/Photos/Horizontal/Nature/4-col/img%20(73).webp"
                                    class="w-100 shadow-1-strong rounded mb-4" alt="..." />

                                <img src="https://mdbcdn.b-cdn.net/img/Photos/Vertical/mountain1.webp"
                                    class="w-100 shadow-1-strong rounded mb-4" alt="..." />
                            </div>

                            <div class="col-lg-4 mb-4 mb-lg-0">
                                <img src="https://mdbcdn.b-cdn.net/img/Photos/Vertical/mountain2.webp"
                                    class="w-100 shadow-1-strong rounded mb-4" alt="..." />

                                <img src="https://mdbcdn.b-cdn.net/img/Photos/Horizontal/Nature/4-col/img%20(73).webp"
                                    class="w-100 shadow-1-strong rounded mb-4" alt="..." />
                            </div>

                            <div class="col-lg-4 mb-4 mb-lg-0">
                                <img src="https://mdbcdn.b-cdn.net/img/Photos/Horizontal/Nature/4-col/img%20(18).webp"
                                    class="w-100 shadow-1-strong rounded mb-4" alt="..." />

                                <img src="https://mdbcdn.b-cdn.net/img/Photos/Vertical/mountain3.webp"
                                    class="w-100 shadow-1-strong rounded mb-4" alt="..." />
                            </div>
                        </div>
                    </div>



                    <div class="col-12 hv-100 d-flex flex-column justify-content-center align-items-center">
                        <h2 style="padding: 30px 0px 50px 0px; background-color: #f8f9fa;">2024</h2>
                        <div class="row">
                            <div class="col-lg-4 col-md-12 mb-4 mb-lg-0">
                                <img src="https://mdbcdn.b-cdn.net/img/Photos/Horizontal/Nature/4-col/img%20(73).webp"
                                    class="w-100 shadow-1-strong rounded mb-4" alt="..." />

                                <img src="https://mdbcdn.b-cdn.net/img/Photos/Vertical/mountain1.webp"
                                    class="w-100 shadow-1-strong rounded mb-4" alt="..." />
                            </div>

                            <div class="col-lg-4 mb-4 mb-lg-0">
                                <img src="https://mdbcdn.b-cdn.net/img/Photos/Vertical/mountain2.webp"
                                    class="w-100 shadow-1-strong rounded mb-4" alt="..." />

                                <img src="https://mdbcdn.b-cdn.net/img/Photos/Horizontal/Nature/4-col/img%20(73).webp"
                                    class="w-100 shadow-1-strong rounded mb-4" alt="..." />
                            </div>

                            <div class="col-lg-4 mb-4 mb-lg-0">
                                <img src="https://mdbcdn.b-cdn.net/img/Photos/Horizontal/Nature/4-col/img%20(18).webp"
                                    class="w-100 shadow-1-strong rounded mb-4" alt="..." />

                                <img src="https://mdbcdn.b-cdn.net/img/Photos/Vertical/mountain3.webp"
                                    class="w-100 shadow-1-strong rounded mb-4" alt="..." />
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!-- Rodap√© -->
    <footer class="bg-light text-center text-lg-start">
        <div class="text-center p-4" style="background-color: #f8f9fa;">
            2025 ¬© Todos os direitos reservados.
        </div>


        <script>
            // Dados de exemplo
            const dados = [
                { ano: 2000, temp: 21.3, chuva: 1200 },
                { ano: 2005, temp: 21.7, chuva: 1580 },
                { ano: 2010, temp: 22.4, chuva: 1420 },
                { ano: 2015, temp: 22.9, chuva: 1350 },
                { ano: 2020, temp: 23.5, chuva: 1480 },
                { ano: 2025, temp: 24.1, chuva: 1600 }
            ];

            const regioes = [
                { nome: "Zona Norte", x: 150, y: 100, temp: 22.4 },
                { nome: "Centro", x: 300, y: 200, temp: 23.1 },
                { nome: "Zona Sul", x: 500, y: 300, temp: 24.0 }
            ];

            const dadosVento = [
                { ano: 2000, vento: 2.4 },
                { ano: 2005, vento: 2.8 },
                { ano: 2010, vento: 3.1 },
                { ano: 2015, vento: 2.7 },
                { ano: 2020, vento: 3.3 }
            ];

            const dadosExtremos = [
                { ano: 2000, max: 39, min: 3 },
                { ano: 2005, max: 41, min: 2 },
                { ano: 2010, max: 43, min: 1 },
                { ano: 2015, max: 40, min: 4 },
                { ano: 2020, max: 42, min: 3 }
            ];

            const dadosIntensos = [
                { ano: 2000, calor: 18, frio: 10 },
                { ano: 2005, calor: 22, frio: 8 },
                { ano: 2010, calor: 26, frio: 6 },
                { ano: 2015, calor: 20, frio: 9 },
                { ano: 2020, calor: 25, frio: 7 }
            ];

            const direcoes = [
                { dir: "N", freq: 12 },
                { dir: "NE", freq: 18 },
                { dir: "E", freq: 22 },
                { dir: "SE", freq: 14 },
                { dir: "S", freq: 10 },
                { dir: "SO", freq: 8 },
                { dir: "O", freq: 6 },
                { dir: "NO", freq: 10 }
            ];

            // Sele√ß√£o do tooltip
            const tooltip = d3.select("#tooltip");

            // Vari√°veis para controle de anima√ß√£o
            const animacoes = {
                linha: false,
                area: false,
                mapa: false,
                umidade: false,
                vento: false,
                extremos: false,
                intensos: false,
                ventoDirecao: false
            };

            // Configura√ß√£o do IntersectionObserver para anima√ß√£o dos slides
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        switch (entry.target.id) {
                            case 'slide-linha':
                                if (!animacoes.linha) {
                                    animarLinha();
                                    animacoes.linha = true;
                                }
                                break;
                            case 'slide-area':
                                if (!animacoes.area) {
                                    animarArea();
                                    animacoes.area = true;
                                }
                                break;
                            case 'slide-mapa':
                                if (!animacoes.mapa) {
                                    animarMapa();
                                    animacoes.mapa = true;
                                }
                                break;
                            case 'slide-umidade':
                                if (!animacoes.umidade) {
                                    animarUmidade();
                                    animacoes.umidade = true;
                                }
                                break;
                            case 'slide-vento':
                                if (!animacoes.vento) {
                                    animarVento();
                                    animacoes.vento = true;
                                }
                                break;
                            case 'slide-extremos':
                                if (!animacoes.extremos) {
                                    animarExtremos();
                                    animacoes.extremos = true;
                                }
                                break;
                            case 'slide-intensos':
                                if (!animacoes.intensos) {
                                    animarIntensos();
                                    animacoes.intensos = true;
                                }
                                break;
                            case 'slide-vento':
                                if (!animacoes.vento) {
                                    animarVento();
                                    animacoes.vento = true;
                                }
                                break;
                        }
                    }
                });
            }, { threshold: 0.5 });

            // Observa todos os slides que precisam de anima√ß√£o
            document.querySelectorAll('.slide[id]').forEach(slide => {
                observer.observe(slide);
            });

            let resizeTimeout;
            window.addEventListener("resize", () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(() => {
                    animarLinha();
                    animarArea();
                    animarUmidade();
                    animarVento();
                    animarExtremos();
                    animarIntensos();

                }, 100);
            });
        </script>



        <!-- Mapa -->
        <script>
            const map = L.map('map').setView([-28.50, -53], 5.5);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; OpenStreetMap contributors'
            }).addTo(map);

            let marcadores = [];
            let estacoes = [];
            let intervalo = null;
            let chart;

            async function carregarEstacoes() {
                const resp = await fetch('./dataset/estacoes.json');
                estacoes = await resp.json();
                preencherUFs(estacoes);
                atualizarMapa(parseInt(document.getElementById('yearSlider').value));
                desenharGrafico();
            }

            function normalizarData(data) {
                if (data.includes('/')) {
                    const [dia, mes, ano] = data.split('/');
                    return `${ano.length === 2 ? '20' + ano : ano}-${mes.padStart(2, '0')}-${dia.padStart(2, '0')}`;
                }
                return data;
            }

            function formatarDataParaBR(dataISO) {
                const [ano, mes, dia] = dataISO.split('-');
                return `${dia}/${mes}/${ano}`;
            }

            function preencherUFs(estacoes) {
                const select = document.getElementById('ufSelect');
                const ufs = Array.from(new Set(estacoes.map(e => e.uf))).sort();
                for (const uf of ufs) {
                    const opt = document.createElement('option');
                    opt.value = uf;
                    opt.textContent = uf;
                    select.appendChild(opt);
                }
            }

            function atualizarMapa(ano) {
                const ufSelecionado = document.getElementById('ufSelect').value;
                marcadores.forEach(m => map.removeLayer(m));
                marcadores = [];

                estacoes
                    .map(est => ({ ...est, data_fundacao: normalizarData(est.data_fundacao) }))
                    .filter(est => parseInt(est.data_fundacao.substring(0, 4)) <= ano)
                    .filter(est => ufSelecionado === 'TODOS' || est.uf === ufSelecionado)
                    .forEach(est => {
                        const dataBR = formatarDataParaBR(est.data_fundacao);
                        const marker = L.marker([est.latitude, est.longitude])
                            .bindPopup(`
                                <div style="min-width:200px;">
                                    <h5 style="margin-bottom: 0.5em; color: #1976d2;">
                                        <i class="fas fa-map-marker-alt me-2"></i> ${est.estacao}
                                    </h5>
                                    <p style="margin-bottom: 0.3em;">
                                        <span class="badge bg-primary text-white" style="font-size:0.9em;"> ${est.uf}</span>
                                    </p>
                                    <p style="margin-bottom: 0.3em;">
                                        <i class="fas fa-calendar-alt me-1"></i><strong> Inaugurada:</strong> ${dataBR}
                                    </p>
                                    ${est.municipio ? `<p style="margin-bottom: 0.3em;"><i class="fas fa-city me-1"></i><strong> Munic√≠pio:</strong> ${est.municipio}</p>` : ''}
                                    ${est.altitude ? `<p style="margin-bottom: 0.3em;"><i class="fas fa-mountain me-1"></i><strong> Altitude:</strong> ${est.altitude} m</p>` : ''}
                                    ${est.tipo ? `<p style="margin-bottom: 0.3em;"><i class="fas fa-info-circle me-1"></i><strong> Tipo:</strong> ${est.tipo}</p>` : ''}
                                </div>
                            `)
                            .addTo(map);
                        marcadores.push(marker);
                    });
            }

            function desenharGrafico() {
                const anos = {};
                estacoes.forEach(est => {
                    const ano = parseInt(normalizarData(est.data_fundacao).substring(0, 4));
                    anos[ano] = (anos[ano] || 0) + 1;
                });
                const labels = Object.keys(anos).sort((a, b) => a - b);
                const dados = labels.map(ano => anos[ano]);

                const ctx = document.getElementById('graficoEstacoes').getContext('2d');
                chart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels,
                        datasets: [{
                            label: 'Esta√ß√µes por Ano de Funda√ß√£o',
                            data: dados,
                            backgroundColor: 'rgba(54, 162, 235, 0.6)'
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: { display: false },
                            tooltip: { mode: 'index', intersect: false }
                        },
                        scales: {
                            x: { title: { display: true, text: 'Ano' } },
                            y: { title: { display: true, text: 'N√∫mero de Esta√ß√µes' }, beginAtZero: true }
                        }
                    }
                });
                if (marcadores.length > 0) {

                    const popupContent = marcadores[0].getPopup().getContent();
                    const instrucoes = `<hr><p><strong>üìç Clique nas esta√ß√µes para mais detalhes.</strong></p>`;
                    marcadores[0].getPopup().setContent(popupContent + instrucoes);
                    marcadores[0].openPopup();

                }
            }

            const slider = document.getElementById('yearSlider');
            const label = document.getElementById('yearLabel');
            const btn = document.getElementById('playBtn');
            const resetBtn = document.getElementById('resetBtn');

            slider.addEventListener('input', () => {
                const ano = parseInt(slider.value);
                label.textContent = ano;
                atualizarMapa(ano);
            });

            document.getElementById('ufSelect').addEventListener('change', () => {
                atualizarMapa(parseInt(slider.value));
            });

            resetBtn.addEventListener('click', () => {
                // O usu√°rio pode querer reiniciar a posi√ß√£o do mapa
                map.setView([-28.50, -53], 5.5);
            });

            btn.addEventListener('click', () => {
                if (intervalo) {
                    clearInterval(intervalo);
                    intervalo = null;
                    btn.textContent = '‚ñ∂Ô∏è Ver evolu√ß√£o das esta√ß√µes';
                } else {
                    // Se j√° est√° no final, reinicia do come√ßo
                    if (parseInt(slider.value) >= 2025) {
                        slider.value = 2000;
                        label.textContent = 2000;
                        atualizarMapa(2000);
                    }
                    intervalo = setInterval(() => {
                        let ano = parseInt(slider.value);
                        if (ano < 2025) {
                            ano++;
                            slider.value = ano;
                            label.textContent = ano;
                            atualizarMapa(ano);
                        } else {
                            clearInterval(intervalo);
                            intervalo = null;
                            btn.textContent = '‚ñ∂Ô∏è Reproduzir novamente';
                            setTimeout(() => {
                                btn.textContent = '‚ñ∂Ô∏è Ver evolu√ß√£o das esta√ß√µes';
                            }, 2000);
                        }
                    }, 150);
                    btn.textContent = '‚è∏Ô∏è Pausar';
                }
            });

            carregarEstacoes();
        </script>


        <script>
            // Revela os elementos da se√ß√£o aos poucos
            document.addEventListener("DOMContentLoaded", function () {
                function revealSequentially(items, delay = 350) {
                    items.forEach((item, idx) => {
                        setTimeout(() => {
                            item.classList.add('visible');
                        }, idx * delay);
                    });
                }

                const section = document.getElementById('estacoes-meteorologicas');
                const revealItems = section.querySelectorAll('.reveal-item');
                let revealed = false;

                function handleReveal(entries, observer) {
                    entries.forEach(entry => {
                        if (entry.isIntersecting && !revealed) {
                            revealSequentially(Array.from(revealItems));
                            revealed = true;
                            observer.disconnect();
                        }
                    });
                }

                const observer = new IntersectionObserver(handleReveal, { threshold: 0.2 });
                observer.observe(section);
            });
        </script>



        <script src="./assets/js/script.js"></script>
        <script src="./assets/js/d3-charts.js"></script>
        <script src="./assets/js/jquery-3.5.1.slim.min.js"></script>
        <script src="./assets/js/popper.min.js"></script>
        <script src="./assets/js/bootstrap.min.js"></script>
        <script src="./assets/js/papaparse.min.js"></script>
</body>

</html>

</body>